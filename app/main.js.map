{"version":3,"file":"main.js","sources":["src/main.js"],"sourcesContent":["const {app, BrowserWindow} = require('electron');\r\nconst { ipcSend, ipcReceive } = require('electron-simple-ipc');\r\nconst needle = require('needle');\r\nconst path = require('path');\r\nconst url = require('url');\r\n\r\nlet win;\r\n\r\nipcReceive('LOGIN', (payload) => {\r\n\tconsole.log(\"Requesting access token for credentials: \", payload);\r\n\tneedle.post('https://dev.intercraftmc.com/auth/login', {\r\n\t\t'email': payload.email,\r\n\t\t'password': payload.password\r\n\t},\r\n\tfunction(err, resp, body) {\r\n\t\tconsole.log(\"Result: \", err, body);\r\n\t\tif (body.status == 200) {\r\n\t\t\tconsole.log('Loading the thing');\r\n\t\t\twin.loadURL(url.format({\r\n\t\t\t\tpathname: path.join(__dirname, 'views/index.htm'),\r\n\t\t\t\tprotocol: 'file:',\r\n\t\t\t\tslashes: true\r\n\t\t\t}));\r\n\t\t}\r\n\t});\r\n});\r\n\r\nfunction createWindow () {\r\n\t\r\n\twin = new BrowserWindow({width: 800, height: 600});\r\n\r\n\twin.loadURL(url.format({\r\n\t\tpathname: path.join(__dirname, 'views/login.htm'),\r\n\t\tprotocol: 'file:',\r\n\t\tslashes: true\r\n\t}));\r\n\r\n\twin.webContents.openDevTools();\r\n\r\n\twin.on('closed', () => {\r\n\t\twin = null;\r\n\t});\r\n}\r\n\r\napp.on('ready', createWindow)\r\n\r\napp.on('window-all-closed', () => {\r\n\tif (process.platform !== 'darwin') {\r\n\t\tapp.quit();\r\n\t}\r\n})\r\n\r\napp.on('activate', () => {\r\n\tif (win === null) {\r\n\t\tcreateWindow();\r\n\t}\r\n})"],"names":[],"mappings":";;AAAA,MAAM,CAAC,GAAG,EAAE,aAAa,CAAC,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;AACjD,MAAM,EAAE,OAAO,EAAE,UAAU,EAAE,GAAG,OAAO,CAAC,qBAAqB,CAAC,CAAC;AAC/D,MAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AACjC,MAAM,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;AAC7B,MAAM,GAAG,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC;;AAE3B,IAAI,GAAG,CAAC;;AAER,UAAU,CAAC,OAAO,EAAE,CAAC,OAAO,KAAK;CAChC,OAAO,CAAC,GAAG,CAAC,2CAA2C,EAAE,OAAO,CAAC,CAAC;CAClE,MAAM,CAAC,IAAI,CAAC,yCAAyC,EAAE;EACtD,OAAO,EAAE,OAAO,CAAC,KAAK;EACtB,UAAU,EAAE,OAAO,CAAC,QAAQ;EAC5B;CACD,SAAS,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE;EACzB,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;EACnC,IAAI,IAAI,CAAC,MAAM,IAAI,GAAG,EAAE;GACvB,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;GACjC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC;IACtB,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,iBAAiB,CAAC;IACjD,QAAQ,EAAE,OAAO;IACjB,OAAO,EAAE,IAAI;IACb,CAAC,CAAC,CAAC;GACJ;EACD,CAAC,CAAC;CACH,CAAC,CAAC;;AAEH,SAAS,YAAY,IAAI;;CAExB,GAAG,GAAG,IAAI,aAAa,CAAC,CAAC,KAAK,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC;;CAEnD,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC;EACtB,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,iBAAiB,CAAC;EACjD,QAAQ,EAAE,OAAO;EACjB,OAAO,EAAE,IAAI;EACb,CAAC,CAAC,CAAC;;CAEJ,GAAG,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;;CAE/B,GAAG,CAAC,EAAE,CAAC,QAAQ,EAAE,MAAM;EACtB,GAAG,GAAG,IAAI,CAAC;EACX,CAAC,CAAC;CACH;;AAED,GAAG,CAAC,EAAE,CAAC,OAAO,EAAE,YAAY,CAAC,CAAA;;AAE7B,GAAG,CAAC,EAAE,CAAC,mBAAmB,EAAE,MAAM;CACjC,IAAI,OAAO,CAAC,QAAQ,KAAK,QAAQ,EAAE;EAClC,GAAG,CAAC,IAAI,EAAE,CAAC;EACX;CACD,CAAC,CAAA;;AAEF,GAAG,CAAC,EAAE,CAAC,UAAU,EAAE,MAAM;CACxB,IAAI,GAAG,KAAK,IAAI,EAAE;EACjB,YAAY,EAAE,CAAC;EACf;CACD,CAAC"}