{"version":3,"file":"config.js","sources":["src/config.js"],"sourcesContent":["const fs = require('fs');\r\nconst jetpack = require('fs-jetpack');\r\nconst jsonfile = require('jsonfile');\r\nconst os = require('os');\r\n\r\nlet config;\r\n\r\nlet rootPath = jetpack;\r\nlet dataPath = jetpack.cwd(os.homedir());\r\n\r\nif (process.platform == 'win32') {\r\n\tdataPath = dataPath.cwd('./AppData/Roaming');\r\n}\r\n\r\nlet generate = function() {\r\n\tconfig = {\r\n\t\t\"configured\": false,\r\n\t\t\"minecraft_path\": dataPath.path('.minecraft'),\r\n\t\t\"access_token\": null\r\n\t};\r\n};\r\n\r\nexports.init = function() {\r\n\tif (fs.existsSync(rootPath.path('config.json'))) {\r\n\t\tconfig = jsonfile.readFileSync(rootPath.path('./config.json'));\r\n\t} else {\r\n\t\tgenerate();\r\n\t\texports.save();\r\n\t}\r\n\treturn config['configured'];\r\n};\r\n\r\nexports.save = function() {\r\n\tjsonfile.writeFile(rootPath.path('./config.json'), config);\r\n};\r\n\r\nexports.minecraftPath = function() {\r\n\treturn config['minecraft_path'];\r\n};\r\n\r\nexports.accessToken = function() {\r\n\treturn config['access_token'];\r\n};\r\n\r\nexports.setAccessToken = function(token) {\r\n\tconfig['access_token'] = token;\r\n\texports.save();\r\n};\r\n\r\nexports.uuid = function() {\r\n\treturn config['uuid'];\r\n}\r\n\r\nexports.altUuids = function() {\r\n\treturn config['alt_uuids'];\r\n}"],"names":[],"mappings":";;AAAA,MAAM,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;AACzB,MAAM,OAAO,GAAG,OAAO,CAAC,YAAY,CAAC,CAAC;AACtC,MAAM,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;AACrC,MAAM,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;;AAEzB,IAAI,MAAM,CAAC;;AAEX,IAAI,QAAQ,GAAG,OAAO,CAAC;AACvB,IAAI,QAAQ,GAAG,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC;;AAEzC,IAAI,OAAO,CAAC,QAAQ,IAAI,OAAO,EAAE;CAChC,QAAQ,GAAG,QAAQ,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;CAC7C;;AAED,IAAI,QAAQ,GAAG,WAAW;CACzB,MAAM,GAAG;EACR,YAAY,EAAE,KAAK;EACnB,gBAAgB,EAAE,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC;EAC7C,cAAc,EAAE,IAAI;EACpB,CAAC;CACF,CAAC;;AAEF,OAAO,CAAC,IAAI,GAAG,WAAW;CACzB,IAAI,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,EAAE;EAChD,MAAM,GAAG,QAAQ,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;EAC/D,MAAM;EACN,QAAQ,EAAE,CAAC;EACX,OAAO,CAAC,IAAI,EAAE,CAAC;EACf;CACD,OAAO,MAAM,CAAC,YAAY,CAAC,CAAC;CAC5B,CAAC;;AAEF,OAAO,CAAC,IAAI,GAAG,WAAW;CACzB,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,eAAe,CAAC,EAAE,MAAM,CAAC,CAAC;CAC3D,CAAC;;AAEF,OAAO,CAAC,aAAa,GAAG,WAAW;CAClC,OAAO,MAAM,CAAC,gBAAgB,CAAC,CAAC;CAChC,CAAC;;AAEF,OAAO,CAAC,WAAW,GAAG,WAAW;CAChC,OAAO,MAAM,CAAC,cAAc,CAAC,CAAC;CAC9B,CAAC;;AAEF,OAAO,CAAC,cAAc,GAAG,SAAS,KAAK,EAAE;CACxC,MAAM,CAAC,cAAc,CAAC,GAAG,KAAK,CAAC;CAC/B,OAAO,CAAC,IAAI,EAAE,CAAC;CACf,CAAC;;AAEF,OAAO,CAAC,IAAI,GAAG,WAAW;CACzB,OAAO,MAAM,CAAC,MAAM,CAAC,CAAC;CACtB,CAAA;;AAED,OAAO,CAAC,QAAQ,GAAG,WAAW;CAC7B,OAAO,MAAM,CAAC,WAAW,CAAC,CAAC;CAC3B"}