{"version":3,"file":"version_manager.js","sources":["src/launcher/version_manager.js"],"sourcesContent":["const got = require('got');\r\nconst jetpack = require('fs-jetpack');\r\nconst jsonfile = require('jsonfile');\r\n\r\nconst config = require('../config');\r\nconst URL = \"https://launchermeta.mojang.com/mc/game/version_manifest.json\";\r\nconst TIMEOUT = 10000 // 10 seconds\r\n\r\nvar path;\r\nvar versions;\r\nvar versionsInstalled;\r\n\r\nexports.init = function() {\r\n\r\n\tconsole.log(\"Initializing version manager...\");\r\n\r\n\t// Save the path\r\n\tpath = config.minecraftPath().path('launcher_profiles.json');\r\n\r\n\t// Download versions\r\n\texports.downloadVersionList();\r\n\r\n\t// Return success\r\n\treturn true;\r\n};\r\n\r\nexports.downloadVersionList = function() {\r\n\tgot.get(URL, {\r\n\t\t'timeout': TIMEOUT\r\n\t})\r\n\t.then(response => {\r\n\t\tversions = JSON.parse(response.body);\r\n\t\tconsole.log(\"The version is\", versions.latest);\r\n\t}); \r\n}\r\n\r\nexports.versions = function(options) {\r\n\r\n}"],"names":[],"mappings":";;AAAA,MAAM,GAAG,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC;AAC3B,MAAM,OAAO,GAAG,OAAO,CAAC,YAAY,CAAC,CAAC;AACtC,MAAM,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;;AAErC,MAAM,MAAM,GAAG,OAAO,CAAC,WAAW,CAAC,CAAC;AACpC,MAAM,GAAG,GAAG,+DAA+D,CAAC;AAC5E,MAAM,OAAO,GAAG,KAAK,CAAA;;AAErB,IAAI,IAAI,CAAC;AACT,IAAI,QAAQ,CAAC;AACb,AAEA,OAAO,CAAC,IAAI,GAAG,WAAW;;CAEzB,OAAO,CAAC,GAAG,CAAC,iCAAiC,CAAC,CAAC;;;CAG/C,IAAI,GAAG,MAAM,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC;;;CAG7D,OAAO,CAAC,mBAAmB,EAAE,CAAC;;;CAG9B,OAAO,IAAI,CAAC;CACZ,CAAC;;AAEF,OAAO,CAAC,mBAAmB,GAAG,WAAW;CACxC,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE;EACZ,SAAS,EAAE,OAAO;EAClB,CAAC;EACD,IAAI,CAAC,QAAQ,IAAI;EACjB,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;EACrC,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;EAC/C,CAAC,CAAC;CACH,CAAA;;AAED,OAAO,CAAC,QAAQ,GAAG,SAAS,OAAO,EAAE;;CAEpC"}